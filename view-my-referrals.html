<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minhas Indicações Recebidas</title>
    <link rel="stylesheet" href="css/view-referrals-style.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
    <div class="main-container">
        <section id="authSection" class="auth-section">
            <div id="loginArea">
                <h2>Ver Suas Indicações</h2>
                <p id="authMessage">Para continuar, por favor, faça login com sua conta do LinkedIn.</p>
                <button id="loginButton" class="linkedin-login-button">
                    <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor" style="margin-right: 8px;"><path d="M20.5 2h-17A1.5 1.5 0 002 3.5v17A1.5 1.5 0 003.5 22h17a1.5 1.5 0 001.5-1.5v-17A1.5 1.5 0 0020.5 2zM8 19H5v-9h3zM6.5 8.25A1.75 1.75 0 118.3 6.5a1.78 1.78 0 01-1.8 1.75zM19 19h-3v-4.74c0-1.42-.6-1.93-1.38-1.93A1.74 1.74 0 0013 14.19a.66.66 0 000 .14V19h-3v-9h2.9v1.3a3.11 3.11 0 012.7-1.4c1.55 0 3.36.86 3.36 3.66z"></path></svg>
                    Entrar com LinkedIn
                </button>
            </div>
            <div id="userInfo" class="user-info">
                <div class="user-details">
                    <img id="userAvatar" src="https://placehold.co/50x50/0077b5/FFFFFF?text=LI&font=poppins" alt="Avatar">
                    <span id="userName"></span>
                </div>
                <button id="logoutButton" class="linkedin-logout-button">Sair</button>
            </div>
        </section>

        <section id="vanityInputSection" class="vanity-input-section" style="display: none;">
            <h2>Confirme seu Perfil do LinkedIn</h2>
            <p>Para encontrarmos as indicações feitas para você, por favor, informe o seu "Vanity Name" do LinkedIn.</p>
            <form id="vanityForm">
                <div class="form-group">
                    <label for="my_linkedin_vanity">Seu "Vanity Name" do LinkedIn:</label>
                    <input type="text" id="my_linkedin_vanity" name="my_linkedin_vanity" placeholder="Ex: seu-nome-unico-linkedin" required>
                    <span class="help-text">É a parte da URL do seu perfil após "linkedin.com/in/". Ex: se a URL é linkedin.com/in/<b>ana-silva-123</b>, seu vanity name é <b>ana-silva-123</b>.</span>
                </div>
                <button type="submit" class="action-button">Buscar Minhas Indicações</button>
            </form>
        </section>

        <section id="resultsSection" class="results-section" style="display: none;">
            <h2>Resultados das Indicações</h2>
            <div id="referralResultsSummary" class="referral-results-summary">
                <p>Você recebeu <strong id="referralsFoundCount">0</strong> indicação(ões) para o perfil informado.</p>
            </div>
            <p>Áreas em que você foi indicado(a):</p>
            <ul id="foundAreasList" class="referral-list">
                <li id="noResultsMessage">Nenhuma indicação encontrada para este Vanity Name.</li>
            </ul>
        </section>

         <section class="actions-section" style="display: none;" id="navigationActions">
             <a href="profile.html" class="action-button secondary">Voltar ao Meu Perfil</a>
             <a href="referral.html" class="action-button" style="margin-top:10px;">Indicar um Talento</a>
        </section>
    </div>

    <script src="js/view-referrals-script.js"></script>
</body>
</html>
